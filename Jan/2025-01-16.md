## 날짜: 2025-01-16

## 모의 면접 스터디 

### 주제 : 데이터베이스 



<br>

## 질문 복기 및 답변 보완 

### Q. 데이터베이스란 무엇인가요? 
A. 데이터베이스는 데이터를 효율적으로 저장하고 관리하며 특정 기능을 수행하기 위한 데이터의 집합입니다. 그리고 데이터베이스를 관리하는 시스템이 DBMS입니다. 
DBMS는 다수의 사용자가 데이터에 접근하고, 데이터를 처리하며, 무결성과 보안을 보장하는 기능을 제공합니다. 


<br>


### Q. 파일 시스템 대신 데이터베이스를 사용하는 이유는 무엇인가요?
A. 데이터베이스를 사용하면 파일 시스템의 단점을 보완할 수 있습니다. 파일 시스템을 사용하면 데이터 변경 시 연관 데이터를 변경 하기 어렵고 
정교한 데이터 검색 및 복구가 어렵습니다. 반면 데이터베이스는 데이터의 일관성, 무결성, 동시성을 보장하며 대량의 데이터를 효율적으로 관리할 수 있게 합니다. 


<br>


### Q. 트랜잭션과 ACID 속성에 대해 답해주세요.
A. 트랜잭션은 논리적 기능을 수행하기 위한 작업 단위를 의미합니다. ACID는 각각 원자성, 일관성, 독립성, 지속성을 의미합니다.
먼저 원자성은 작업이 모두 수행되거나 모두 수행되지 않음을 보장항하는 것을 의미합니다. <br>
일관성은 트랜잭션 작업 전 후의 데이터 무결성과 그 규칙이 유지돼야 하는 것을 의미합니다. <br>
독립성은 트랜잭션 여러 개가 작업 중일 때 다른 트랜잭션이 간섭하지 않는 것을 의미합니다. <br>
그리고 마지막으로 지속성은 한 번 성공한 작업은 영구적으로 저장되는 것을 의미합니다. <br>
ACID 속성은 트랜잭션이 안전하게 수행되도록 보장하는 특성입니다. 


<br>


### Q. 데이터베이스 성능을 최적화 하는 방법이 무엇인가요?
A. 데이터베이스의 성능을 최적화 하는 방법은 먼저 인덱스를 사용해 조회 속도를 향상 시키는 것입니다. 
다음으로 불필요한 쿼리를 제거하는 방식으로 쿼리를 최적화 하는 것입니다. 그리고 파티셔닝을 통해 데이터를 물리적으로 분할 합니다. 
또, 자주 사용되는 데이터를 캐싱을 통해 미리 저장할 수 있습니다. 마지막으로 정규화 또는 반정규화를 통해 성능을 개선 하는 것입니다. 



<br>


### Q. 데이터베이스 뷰에 대한 정의와 장단점에 대해 설명해주세요.
A. 뷰는 하나 이상의 테이블에서 데이터를 SELECT 문으로 추출하여 가상화된 테이블처럼 사용하는 객체로 복잡한 쿼리를 간단히 사용할 수 있고 
특정 필요한 데이터만 제공할 수 있다는 장점이 있습니다. 단점으로는 대규모 데이터 조회 시 성능 저하가 발생할 수 있고 독립적인 인덱스 생성이
어렵다는 점이 있습니다. 


<br>


### Q. 데드락이 무엇인지 설명해주세요.
A. 데드락은 두 개 이상의 트랜잭션이 서로 점유하고 있는 자원을 요청하며 대기 상태가 되는 현상입니다. 
데드락을 해결하기 위해선 트랜잭션의 타임아웃을 설정하거나 자원 할당 순서를 정의하거나 또는 교착 상태 탐지를 사용할 수 있습니다. 


<br>


### Q. RDBMS와 NoSQL의 차이에 대해 설명해주세요.
A. RDBMS는 관계형 데이터베이스로 정해진 스키마에 따라 데이터를 테이블에 저장하는 데이터베이스를 의미합니다.
수직적 확장이 가능하고 데이터의 변경이 자주 일어나는 경우, 그리고 명확한 스키마가 필요한 경우에 사용합니다.
NoSQL은 수직적 그리고 수평적 확장이 가능하다는 장점이 있고 반정형, 비정형 데이터 구조를 가진 경우에 사용합니다. 
그리고 데이터 변경이 자주 일어나지 않고 대용량 데이터를 처리해야할 때 사용합니다. 


<br>


### Q. RDBMS가 수평적 확장이 안된다고 했는데 왜 그런지 이유를 알 수 있을까요?
A. RDBMS는 데이터가 테이블 형태로 정규화되기 때문에 관계성을 유지하려면 데이터베이스 간의 동기화가 필요합니다. 
따라서 수평적 확장 시 성능 및 일관성을 유지하는 것이 어렵습니다. 
반면 NoSQL은 유연한 스키마와 비관계형 데이터 구조를 통해 수평적 확장이 용이합니다. 



<br>


### Q. 동시성 제어란 무엇인가요?
A. 동시성 제어란 여러 트랜잭션이 동시에 실행될 때 데이터 일관성을 유지하기 위해 필요한 제어 방식입니다. 
동시성 제어를 위해 Locking, Time Stamp Ordering, Optimistic Control 등의 기법을 사용합니다. <br>
먼저 Locking이란 데이터를 사용하는 동안 다른 트랜잭션이 해당 데이터를 사용하지 못하도록 잠그는 방식입니다.  <br>
Time Stamp Ordering이란 각 트랜잭션에 고유한 스탬프를 부여하고 트랜잭션의 순서를 해당 타임 스탬프에 따라 결정하는 방식입니다. <br> 
마지막으로 Optimistic Control이란 트랜잭션이 실행되는 동안 데이터에 대한 락을 사용하지 않습니다. 이는 데이터 충돌이 드물다는
가정을 기반으로 설계되었기 때문입니다. 트랜잭션이 완료되기 전 충돌 여부를 검증하고 충돌이 발생하면 롤백하는 형식으로 동작합니다. 


<br>


### Q. 인덱스에 대해 설명해주세요.
A. 인덱스는 데이터베이스에서 조회를 할 때 데이터를 효율적으로 검색하기 위해 사용됩니다. 
그런데 인덱스를 너무 많이 사용하면 데이터를 삽입, 삭제, 갱신할 때 추가적인 작업이 발생하기 때문에 오버헤드가 있을 수 있다는 단점이 있습니다.
그래서 조회를 많이 해야 하는 경우 주로 사용합니다.


<br>


### Q. 인덱스의 종류에는 어떤 것들이 있을까요?
A. 대표적인 인덱스의 종류로는 B-Tree, 해시 인덱스, 비트맵 인덱스가 있습니다. 
먼저 B-Tree는 균형잡힌 트리 구조를 데이터를 정렬된 상태로 저장합니다. 검색, 삽입, 삭제의 시간복잡도가 O(log N)으로 일정하고 범위 검색이나 정렬이
필요한 쿼리에 적합합니다. <br>
해시 인덱스는 특정 키 값을 해시 함수를 통해 해시 코드로 변환하여 저장하는 방식입니다. 검색 속도가 빠르나 데이터가 정렬 되지 않기 때문에 
범위 검색이 어렵습니다. <br>
비트맵 인덱스는 각 값에 대해 비트 배열을 생성하고 해당 값이 존재하면 1, 존재하지 않으면 0으로 비트를 설정하는 방식입니다. 값의 종류가 제한적이고
중복이 많을 때 효과적입니다. 


<br>


### Q. 참조 무결성 제약 조건에 대해 말해주세요.
A. 참조 무결성 제약 조건은 FK를 통해 부모 테이블과 자식 테이블 간의 데이터 일관성을 유지하는 규칙입니다. 
예를 들어 부모 테이블의 데이터가 삭제되면 더 이상 자식 테이블의 외래키가 유효하지 않기 때문에 CASCADE 또는 SET NULL 옵션을 설정해 
참조 무결성을 지킬 수 있습니다. 




<br>


### Q. 데이터를 지우거나 테이블을 지울 때 사용하는 명령인 DELETE, DROP, TRUNCATE 중 DELTE는 삭제된 데이터를 복구 할 수 있는데 어떤 내부 원리를 통해 복구를 할 수 있는지 설명해주세요.
A. DELETE 명령은 트랜잭션 로그를 기록하기 때문에 변경 사항이 커밋되기 전까지 데이터의 복구가 가능합니다. 
반면 TRUNCATE는 데이터 블록을 초기화 하고, DROP은 테이블 자체를 삭제하기 때문에 복구가 어렵습니다. 

<br>


### Q. 커뮤니티 프로젝트에서 DB를 어떻게 설계했는지 설명해주세요.
A. POST테이블, LIKES 테이블, USERS 테이블, COMMENT 테이블로 구성을 했습니다. <br> USERS 테이블에선 사용자의 정보를 저장하고 
사용자 인증과 권한 관리를 담당합니다. 이메일과 닉네임은 고유성을 보장하고 비밀번호는 해싱된 상태로 저장해 보안성을 확보 하였습니다. <br>
POST 테이블에선 게시글 정보를 저장 합니다. 조회수, 좋아요 수, 댓글 수 필드를 포함하여 데이터를 조회할 때 실시간 계산을 피하고 
캐싱된 값을 사용할 수 있도록 설계하였습니다. <br>
COMMENT 테이블에선 댓글에 대한 정보를 저장합니다. 댓글은 게시글과 사용자와 연결 돼야 하기 때문에 
유저 테이블과 게시글 테이블의 아이디를 FK로 설정하였고 게시글 삭제 시 관련 댓글이 함께 삭제 되도록 CASCADE를 설정하였습니다. <br>
LIKES 테이블은 특정 사용자가 게시글에 누른 좋아요 정보를 관리합니다. 한 사용자가 동일 게시글에 여러 번 좋아요를 누르는 것을 방지하기 위해 
UNIQUE 제약 조건을 추가하였습니다. 




<br>


### Q. 테이블 간의 관계는 따로 설정하지 않았나요?
A. 한 사용자가 여러 게시물을 작성할 수 있기 때문에 USERS 테이블과 POST 테이블은 1:N 관계입니다.
하나의 게시글에는 여러 개의 댓글이 달릴 수 있으므로 COMMENT 테이블과 POST 테이블은 1:N 관계입니다. 
한 사용자는 여러 개의 댓글을 작성할 수 있으므로 USERS 테이블과 COMMENT 테이블은 1:N 관계입니다. 
LIKES 테이블은 USERS 테이블과 POST 테이블의 N:N 관계입니다. 



<br>


### Q. 정규화에 대해 아는만큼 설명해주세요.
A. 테이블 중에 이상 현상이 있는 테이블을 여러 테이블로 분해해서 분리하는 과정을 정규화라고 합니다.
이상 현상의 종류에는 삽입이상, 갱신이상, 삭제이상이 있습니다.
그리고 기본 정규화에는 제1정규형, 제2정규형, 제3정규형 그리고 보이스/코드 정규형이 있습니다.


<br>


### Q. 제 2 정규화에 대해 설명해주세요.
A. 제 2 정규화란 제 1정규형을 만족하는 테이블이 완전 함수 종속을 만족하도록 테이블을 분리하는 것을 의미합니다. 



<br>


### Q. 데이터베이스 샤딩이 무엇인가요?
A. 샤딩은 대규모 데이터를 여러 서버에 분산 저장하여 성능과 확장성을 높이는 기술입니다. 




<br>



### 오늘의 회고
- 오늘은 모의 면접 스터디를 진행하였다. 미리 주제를 선정하여 공부하고 맡은 주제에 대해 25분간 1:N 면접을 보는 형식으로 진행 되었다. 
- 피드백 받은 부분은 말의 속도가 빨라지는 부분을 개선해야 하고 공부한 내용과 모르는 내용의 차이가 명확하다는 것이었다. 또, 편한 분위기에서 진행 됐다는
이야기를 들었는데 반대로 말하면 모의 면접이지만 너무 가볍게 진행한 것 처럼 보일 수 있어서 이런 부분들을 개선하면 좋겠다고 생각했다. 
- 피드백 받은 부분은 스스로도 체감 한 문제이기 때문에 다음주 스터디에선 나아진 모습을 보이고 싶다. 




<br>