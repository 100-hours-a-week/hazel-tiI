## 날짜: 2024-11-18

### [커뮤니티 과제] 

### 오늘의 도전 과제와 해결 방법

### 도전과제 : 회원 가입 시 userId 번호 부여하기 

- **문제상황** : 회원가입, 로그인, 프로필 수정 api를 연동하고 나니 userId가 없어 프로필을 수정할 때 가입 정보를 불러오는데 문제가 발생

- **해결 시도** 
1. userId에 email 사용하기 : 이메일 역시 유효성 검사가 통과된 사용자 식별 요소로 사용될 수 있음. 하지만 이메일을 식별 요소로 사용하면 보안성이 낮아지고 이메일 변경 시 문제가 발생할 수 있음.

2. 회원가입 시 userId를 순차 번호로 적용하기 : 이 방법 역시 사용자 식별 요소로 사용될 순 있지만 보안성이 낮고 사용자 수를 쉽게 예측할 수 있다는 단점이 있음. 임시적으론 사용 가능하지만 실제 서비스에선 다른 방법을 사용하는 것이 좋음.

3. UUID 부여하기 : 고유한 사용자 id를 설정하는 crypto.randomUUID() 또는 uuid 라이브러리를 설치하여 사용하는 방법. 충돌 가능성이 낮고 예측이 불가능하여 보안성이 높다는 장점이 있음. 단점으로는 문자열이 길어 저장 공간을 더 차지하고 가독성이 떨어질 수 있다는 점이 있음. 

- 다른 방법 알아보기 

1. GUID 사용하기 : GUID는 UUID와 비슷한 고유 식별 방식으로 사용 가능하고 uuid 라이브러리를 사용함. 전역적으로 고유한 값을 보장하고 분산 시스템에서도 안전하게 사용 가능한 것이 장점이지만 UUID와 마찬가지로 긴 문자열로 인한 저장 공간 차지 문제가 있음 
간단한 코드 예시 
```javascript
import { v4 as uuidv4 } from 'uuid';
const userId = uuidv4();
```

2. 타임스탬프와 랜덤 문자열 조합 사용하기 : 현재 시간의 타임스탬프와 랜덤 문자열을 조합하여 고유한 식별자를 만드는 방법. 생성 시점을 파악 할 수 있고 구현이 간단하다는 장점이 있음. 하지만 시스템 시간에 의존적이고 분산 시스템에서 완벽한 고유성을 보장하기 어렵다는 단점이 존재함. 
간단한 코드 예시 
```javascript
function generateUserId() {
const timestamp = Date.now();
const randomString = Math.random().toString(36).substring(2, 8);
return ${timestamp}-${randomString};
}
const userId = generateUserId();
```

- **어려웠던 점**: 
userId를 파싱하는 과정에서 userId가 계속해서 NaN으로 저장되는 오류가 발생했다. 
문제의 원인을 분석
1. 여러 파일에서 userId를 다른 방식으로 참조하고 있었음
2. 일부 파일에서는 문자열로 처리하고 다른 파일에서는 숫자로 처리하려 했던 것이 문제
3. 타입 일관성이 지켜지지 않아 발생한 이슈였음

문제는 단순했지만 문제를 찾는 과정에서 많은 시간이 소요되었다. 
오늘의 경험을 통해 타입 관리의 중요성과 일관된 데이터 처리의 필요성을 다시금 깨달았다. 

### 오늘의 회고
- [설계의 중요성] 
  - 꼼꼼하게 설계했다고 생각했지만 작업 시간이 길어질수록 집중력이 저하되어 실수가 발생
  - 구현 전 문서화의 필요성을 깨달음 (손으로 작성하든 디지털로 작성하든)
  - 시간 단축을 위해서라도 상세한 설계 문서가 필요

- [개선점]
  - 코드 작성 전 설계 문서 작성 습관화하기 
  - 타입 체크와 데이터 일관성 검증 단계 갖기 
  - 장시간 작업 시 적절한 휴식과 코드 리뷰 시간 확보하기 


### 참고한 자료
- [UUID] : https://developer.mozilla.org/ko/docs/Glossary/UUID
- [GUID] : https://ko.wikipedia.org/wiki/%EC%A0%84%EC%97%AD_%EA%B3%A0%EC%9C%A0_%EC%8B%9D%EB%B3%84%EC%9E%90