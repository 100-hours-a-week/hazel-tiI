## 날짜: 2024-11-21

## [커뮤니티 과제]

### 댓글 기능 구현

- [ ] [FE] 댓글 불러오기: `loadComments` 함수로 서버에서 댓글 데이터를 가져와 화면에 렌더링
- [ ] [BE] 댓글 불러오기: `loadCommentsData` 함수로 JSON 파일에서 댓글 데이터를 불러옴 파일이 없으면 빈 배열 반환
- [ ] [FE] 댓글 작성: `createComment` 함수로 새로운 댓글을 서버에 저장하고 화면에 반영
- [ ] [BE] 댓글 데이터 저장: `saveCommentsData` 함수로 댓글 데이터를 `JSON` 파일에 저장
- [ ] [BE] 댓글 작성: `makeComment` 함수로 댓글 작성 요청 본문에서 닉네임, 내용, 날짜를 받아 댓글을 생성함 댓글 ID는 마지막으로 작성한 댓글 ID + 1로 설정 -> 추후 수정 예정 

<br>

---

<br>


### 댓글 기능 구현 중 마주친 문제들

1. **라우트 경로 불일치로 인한 `"Unexpected token '<'"` 오류**
   - **문제 상황**: 
     - 댓글 불러오기 시도시 서버가 `HTML`을 반환하며 `JSON` 파싱 오류 발생
     - 원인을 찾아보니 프론트와 백엔드의 라우트 경로가 불일치했음
   - **해결 과정**:
     - 라우트 설정을 비교해보니 중복된 경로가 있어 중복을 제거함 
   - **배운 점**:
     - 라우트 설계 시 중복을 피하고 단순하게 가져가는 것이 중요함
     - `API` 엔드포인트는 직관적이고 `RESTful`하게 설계해야 함

<br>

2. **댓글 작성 후 프로필 정보 깨지는 현상**
   - **문제 상황**:
     - 댓글 작성 후 프로필 이미지와 닉네임이 제대로 표시되지 않음
     - `GET 404` 오류 발생
   - **해결 과정**:
     - 사용자 정보를 먼저 불러온 후 댓글 작성하도록 로직 수정
     - 프로필 이미지와 닉네임에 대한 기본값 처리 추가
   - **배운 점**:
     - 데이터의 `null/undefined` 처리의 중요성
     - 사용자 경험을 위한 기본값 설정의 필요성
     - 프론트엔드와 백엔드 간 데이터 포맷 일관성의 중요성


<br>

3. **댓글 삭제 오류**
   - **문제 상황**:
     - 댓글 삭제 버튼 클릭 시 `commentId is not defined` 에러 발생
     - 프론트엔드에서 댓글의 ID 값을 추적하지 않고 있었음
   - **해결 과정**:
     - 전역 변수 `selectedCommentId` 추가하여 선택된 댓글의 ID 저장
     - HTML 구조 변경: 각 댓글 요소에 `data-comment-id` 속성 추가
     - 이벤트 핸들러 수정: `closest()`와 `dataset`을 사용하여 댓글 ID 추적
   - **배운 점**:
     - 데이터 속성을 활용하여 DOM 요소와 데이터 간의 연결을 유지하는 방법을 배움
     - 이벤트 핸들링 시 필요한 데이터를 정확히 추적하는 것이 중요함
     - 사용자 인터페이스와 데이터 로직 간의 일관성을 유지하는 것이 중요함


<br>

### 오늘의 회고 
- 과제를 진행하며 다양한 문제 상황을 마주하고 이를 해결할 때마다 성장함을 느낀다. 
시간이 오래 걸릴지라도 문제를 해결하는 과정에서 배우는 점이 많아 최대한 시간을 들여 
배운 내용을 정리하고 기록하는 것에 신경을 쓰고 있다. 이 작은 기록들이 쌓이면 유의미한 성장을 이룰 수 있을 것이라고 생각한다. 


